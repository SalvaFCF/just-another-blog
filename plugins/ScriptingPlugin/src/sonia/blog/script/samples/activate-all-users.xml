<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!--
    Document   : enable-all-users.xml
    Created on : August 30, 2009, 2:17 PM
    Author     : Sebastian Sdorra
    Description:
        Purpose of the document follows.
-->

<script>
  <title>Activate all users</title>
  <description>This script activates all users</description>
  <author>Sebastian Sdorra</author>
  <content>var userDAO = daoFactory.userDAO;
var users = userDAO.all;
var size = users.size();
var user = null;
var counter = 0;

println( "&lt;h3&gt;Activate all users&lt;/h3&gt;" );
println( "&lt;ul&gt;" );
for (var i=0;i&lt;size; i++){
  user = users.get(i);
  if ( ! user.active ){
    println( "&lt;li&gt;Enable " + user.name + "&lt;/li&gt;" );
    user.setActive( true );
    userDAO.edit( session, user );
    counter++;
  }
}
println( "&lt;/ul&gt;" );
println( "Enabled " + counter + " Accounts" );
  </content>
</script>
