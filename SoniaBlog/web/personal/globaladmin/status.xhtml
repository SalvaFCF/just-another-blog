<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:blog="http://jab.nitilon.org/blog/"
      xmlns:c="http://java.sun.com/jstl/core">

  <body>

    <ui:composition template="../template.xhtml">

      <ui:define name="title">
        <h:outputText value="#{label.status}" />
      </ui:define>

      <ui:define name="content">

        <h1><h:outputText value="#{label.status}" /></h1>

        <h2><h:outputText value="#{label.objects}" /></h2>

        <table>

          <thead>
            <tr>
              <th><h:outputText value="#{label.table}" /></th>
              <th><h:outputText value="#{label.count}" /></th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td><h:outputText value="#{label.blogs}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.blogCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.entries}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.entryCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.attachments}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.attachmentCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.comments}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.commentCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.categories}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.categoryCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.tags}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.tagCount}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.users}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.userCount}" /></td>
            </tr>
          </tbody>

        </table>

        <h2><h:outputText value="#{label.resources}" /></h2>

        <table>

          <thead>
            <tr>
              <th><h:outputText value="#{label.resource}" /></th>
              <th><h:outputText value="#{label.size}" /></th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td><h:outputText value="#{label.resourceDirectory}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.resourceDirectorySize}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.attachments}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.attachmentSize}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.images}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.imageSize}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="#{label.searchIndex}" /></td>
              <td><h:outputText value="#{GlobalStatusBean.indexSize}" /></td>
            </tr>
          </tbody>

        </table>
        

        <c:forEach items="#{GlobalStatusBean.statusProviders}" var="provider">
          <ui:include src="#{provider}" />
        </c:forEach>

      </ui:define>

    </ui:composition>

  </body>
</html>
