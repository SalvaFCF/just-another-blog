<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : access.xml
    Created on : September 23, 2008, 1:41 PM
    Author     : sdorra
    Description:
        Purpose of the document follows.
-->
<access-config  xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
   xmlns='http://dev.sonia.de/schema/accessConfig'
   xsi:schemaLocation='http://dev.sonia.de/schema/accessConfig file:/Users/sdorra/Projects/libraries/SoniaWebUtil/src/sonia/jsf/access/accessConfig.xsd'>
    <rule>
        <description>if app installed</description>
        <conditions>
            <not>
                <ViewIdMatches>/install/.*</ViewIdMatches>
            </not>
            <not>
                <condition>
                    <class>sonia.blog.app.InstalledCondition</class>
                </condition>
            </not>
        </conditions>
        <actions>
            <jsf-navigation>install</jsf-navigation>
            <jsf-message>Die Anwendung muss erst installiert werden</jsf-message>
        </actions>
        <last />
    </rule>
    <rule>
        <conditions>
            <ViewIdMatches>/install/.*</ViewIdMatches>
            <condition>
                <class>sonia.blog.app.InstalledCondition</class>
            </condition>
        </conditions>
        <actions>
            <redirect>/</redirect>
        </actions>
    </rule>
    <!--<rule>
        <conditions>
            <not>
                <or>
                    <isUserInRole>ADMIN</isUserInRole>
                    <isUserInRole>ROLE</isUserInRole>
                </or>
            </not>
            <ViewIdMatches>/personal/.*</ViewIdMatches>
        </conditions>
        <actions>
            <jsf-navigation>deny</jsf-navigation>
        </actions>
        <last />
    </rule>
    <rule>
        <conditions>
            <not>
                <isUserInRole>ADMIN</isUserInRole>
            </not>
            <ViewIdMatches>/personal/admin/.*</ViewIdMatches>
        </conditions>
        <actions>
            <jsf-navigation>deny</jsf-navigation>
        </actions>
        <last />
    </rule>-->
</access-config>
